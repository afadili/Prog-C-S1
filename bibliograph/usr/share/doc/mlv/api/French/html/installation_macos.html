<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
This file is part of the MLV Library.
Copyright (C) 2012 Adrien Boussicault, Marc Zipstein
This Library is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
This Library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this Library.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MLV-2.0.2</title>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="header">
	<div class="headertitle">
		<h1>Documentation de la bibliothèque MLV-2.0.2</h1>
	</div>
</div>
<div class="tabs2">
	<ul class="tablist">
		<li><a href="index.html"><span>Presentation</span></a></li>
		<li><a href="download.html"><span>Téléchargement</span></a></li>
		<li><a href="installation.html"><span>Installation</span></a></li>
		<li><a href="compilation.html"><span>Compilation</span></a></li>
		<li><a href="examples.html"><span>Exemples</span></a></li>
		<li><a href="files.html"><span>API</span></a></li>
		<li><a href="globals_func.html"><span>Liste des fonctions</span></a></li>
		<li><a href="bug.html"><span>bogues</span></a></li>
        <li><a href="faq.html"><span>FAQ</span></a></li>
		<li><a href="contact_auteur.html"><span>contacts</span></a></li>
	</ul>
</div>
<!-- Généré par Doxygen 1.8.8 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installer MLV sous MacOS X </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Vous pouvez installer la bibliothèque MLV de deux façons différentes:</p>
<ul>
<li><a class="el" href="installation_macos.html#macos_package">Installation de MLV à partir d'un paquet d'installation MacOSX</a></li>
<li><a class="el" href="installation_macos.html#macos_compilation">Installation de MLV à partir du code source de la bibliothèque</a></li>
</ul>
<p>Si vous ne savez pas quoi choisir, nous vous conseillons d'utiliser l'installation à l'aide des paquets car c'est la plus simple à installer. La deuxième, qui utilise le code source de la bibliothèque vous permettra toujours de réussir l'installation, mais elle est beaucoup plus compliquée à mettre en oeuvre.</p>
<h1><a class="anchor" id="macos_package"></a>
Installation de MLV à partir d'un paquet d'installation MacOSX</h1>
<p>Pour insaller la bibliothèque MLV pour MacOS 10.5, vous devez téléchargez le fichier : <a href="http://download.savannah.gnu.org/releases/mlv/mlv-2.0.2/mlv-2.0.2_macos-10.10.pkg">mlv-2.0.2_macos-10.10.pkg</a>.</p>
<p>Cliquez sur le paquet téléchargé et suivez les instructions.</p>
<p>A la fin de la procédure, l'installation est terminée.</p>
<h1><a class="anchor" id="macos_compilation"></a>
Installation de MLV à partir du code source de la bibliothèque</h1>
<h2><a class="anchor" id="install_tool_macos"></a>
Installation des outils de développement de MacOSX</h2>
<p>Commencez par installer l'environnement de programmation d'Apple. Pour cela, au choix,</p><ul>
<li>Installez Xcode depuis le site de téléchargement de Apple.</li>
<li>chargez le second dvd d'installation du système d'exploitation de votre ordinateur, puis installez XCode Tool.</li>
</ul>
<p>Cet environnement contient entre autre gcc, et make.</p>
<h2><a class="anchor" id="install_env_macos"></a>
Mis en place d'un environnement de développement pour MLV</h2>
<p>Nous allons installer la bibliothèque MLV ainsi que ses dépendances dans un répertoire de votre dossier personnel.</p>
<p>Créez un répertoire en tapant la commande :</p>
<pre class="fragment">mkdir $HOME/fakeroot
mkdir $HOME/fakeroot/src
mkdir $HOME/Library/Frameworks
</pre><p>Il est nécessaire de configurer le système d'exploitation pour qu'il sache que de nouvelles bibliothèques sont installées dans le répertoire fakeroot. Pour cela, il suffit de définir quelques variables d'environnement dans un fichier qui est exécuté à chaque démarrage du terminal.</p>
<p>Ce fichier est $HOME/.bash_profile</p>
<p>Ajoutez, à la fin du fichier, les commandes suivantes:</p>
<pre class="fragment">export FAKEROOT="$HOME/fakeroot" 
export PATH="$FAKEROOT/bin:$PATH"
export DYLD_LIBRARY_PATH="$FAKEROOT/lib:$DYLD_LIBRARY_PATH"
export PKG_CONFIG_PATH="$FAKEROOT/lib/pkgconfig:$PKG_CONFIG_PATH"
export LD_LIBRARY_PATH="$FAKEROOT/lib:$LD_LIBRARY_PATH"
export ACLOCAL="aclocal -I $FAKEROOT/share/aclocal -I /usr/share/aclocal"
export PKG_CONFIG="$FAKEROOT/bin/pkg-config"
export CPPFLAGS="-I$FAKEROOT/include"
export LDFLAGS="-L$FAKEROOT/lib"
</pre><p>Si le fichier n'existe pas, créez le.</p>
<p>Vous devez maintenant redémarrer votre terminal pour prendre en compte les changements.</p>
<p>Vérifiez que les variables d'environnement ont bien été installées en tapant la commande:</p>
<pre class="fragment">export
</pre><p>Cette commande devrait afficher toutes les variables d'environnement existantes.</p>
<p>Vous pouvez aussi les examiner une à une en tapant la commande:</p>
<pre class="fragment">echo $FAKEROOT
echo $PATH
etc ...
</pre><h2><a class="anchor" id="install_dep_macos"></a>
Installation des dépendances de MLV</h2>
<p>Nous allons maintenant installer différents programmes et bibliothèques qui seront nécessaires au fonctionnement de MLV.</p>
<h3><a class="anchor" id="install_pkg_macos"></a>
Installation de pkg-config</h3>
<p>Commencez par télécharger pkg-config.tar en allant sur le site :</p>
<p><a href="http://pkgconfig.freedesktop.org/releases/">http://pkgconfig.freedesktop.org/releases/</a></p>
<p>et en le mettant dans le répertoire</p>
<pre class="fragment">$HOME/fakeroot/src
</pre><p>Il est important de PRENDRE LA DERNIÈRE VERSION DE PKG-CONFIG. En effet, pkg-config utilise une autre bibliothèque qui n'est pas incluse dans le codes source des anciennes versions.</p>
<p>Désarchivez le fichier en tapant la ligne de commande suivante:</p>
<pre class="fragment">cd $HOME/fakeroot/src
tar -xf pkg-config-X.X.tar
</pre><p>où X.X est le numéro de la version de la bibliothèque que vous avez téléchargée.</p>
<p>Nous allons maintenant installer pkg-config :</p>
<pre class="fragment">cd ./pkg-config-X.X
./configure --with-internal-glib --prefix=$FAKEROOT
make
make install
</pre><p>La deuxième ligne de commande configure le code source de pkg-config pour que le code source prenne en compte les caractéristiques de l'architecture de votre ordinateur. L'option &ndash;prefix permet de dire au code source que le résultat de la compilation doit être installé dans le répertoire $FAKEROOT. Nous rappelons que la variable d'environnement $FAKEROOT a été précédemment configurée pour valoir la valeur $HOME/fakeroot (qui est votre répertoire d'installation des bibliothèques). La 3ème commande compile le programme. La dernière installe la bibliothèque sur votre ordinateur à l'endroit que vous avez donné lors de l'étape de configuration du code source.</p>
<p>Voilà, pkg-config est installée.</p>
<h3><a class="anchor" id="install_m4_macos"></a>
Installation de M4</h3>
<p>M4 est un outil d'aide à la compilation.</p>
<p>L'installation de M4 est identique à celle de pkg-config. Commencez par télécharger m4-X.X.X.tar sur le site : <a href="http://ftp.gnu.org/gnu/m4/">http://ftp.gnu.org/gnu/m4/</a></p>
<p>Puis tapez les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xf m4-X.X.X.tar.gz
cd m4.X.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_autoconf_macos"></a>
Installation de autoconf</h3>
<p>Autoconf est un outil d'aide à la compilation.</p>
<p>Commencez par télécharger autoconf-X.X.tar.gz sur le site : <a href="http://ftp.gnu.org/gnu/autoconf/">http://ftp.gnu.org/gnu/autoconf/</a></p>
<p>Puis tapez les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf autoconf-X.X.tar.gz
cd autoconf-X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_autoconf_archive_macos"></a>
Installation de autoconf-archive</h3>
<p>Autoconf-archives est une bibliothèque de script pour autoconf.</p>
<p>Commencez par télécharger autoconf-archive-X.X.X.tar.gz sur le site : <a href="http://ftp.gnu.org/gnu/autoconf-archive/">http://ftp.gnu.org/gnu/autoconf-archive/</a></p>
<p>Puis tapez les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf autoconf-archive-X.X.X.tar.gz
cd autoconf-archive-X.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_automake_macos"></a>
Installation de automake</h3>
<p>Autocomake est un outil d'aide à la compilation.</p>
<p>Commencez par télécharger automake-X.X.tar.gz sur le site : <a href="http://ftp.gnu.org/gnu/automake/">http://ftp.gnu.org/gnu/automake/</a></p>
<p>Puis tapez les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf automake-X.X.tar.gz
cd automake-X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_libtool_macos"></a>
Installation de libtool</h3>
<p>Libtool est un outil d'aide à la compilation.</p>
<p>L'installation de libtool est identique à celle de pkg-config. Commencez par télécharger libtool-X-X.tar sur le site : <a href="http://ftp.gnu.org/gnu/libtool/">http://ftp.gnu.org/gnu/libtool/</a>.</p>
<p>Puis tapez les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xf libtool-X-X.tar
cd libtool-X-X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_libxml2_macos"></a>
Installation de libxml2</h3>
<p>Téléchargez le code source de la bibliothèque sur le site <a href="ftp://xmlsoft.org/libxml2/">ftp://xmlsoft.org/libxml2/</a></p>
<p>Vous pouvez choisir, par exemple, le fichier libxml2-git-snapshot.tar.gz.</p>
<p>Puis tapez les lignes de commandes suivantes:</p>
<pre class="fragment">cd $FAKEROOT/src
tar -xzf libxml2-X.tar.gz
cd libxml2-X.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_libffi_macos"></a>
Installation de libffi</h3>
<p>Commencez par télécharger libffi-X.X.tar.gz en allant sur le site : </p><pre class="fragment">http://sourceware.org/libffi/
</pre><p>Puis tapez les lignes de commandes suivantes:</p>
<pre class="fragment">cd $FAKEROOT/src
tar -xzf libffi-X.X.tar.gz
cd libffi-X.X
./configure --prefix=$FAKEROOT
cd x86_64-apple-darwinX.X.X
make
make install
</pre><h3><a class="anchor" id="install_gettext_macos"></a>
Installation de gettext</h3>
<p>Commencez par télécharger gettext-X.tar.gz en allant sur le site : </p><pre class="fragment">http://www.gnu.org/software/gettext/
</pre><pre class="fragment">cd $FAKEROOT/src
tar -xzf gettext-X.X.X.X.tar.gz
</pre><p>Ensuite, compilez et installez la bibliothèque en tapant les commandes suivantes: </p><pre class="fragment">cd gettext-X.X.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_glib2_macos"></a>
Installation de glib2</h3>
<p>Téléchargez la bibliothèque sur le site <a href="http://ftp.gtk.org/pub/glib/">http://ftp.gtk.org/pub/glib/</a></p>
<p>Désarchivez ensuite la bibliothèque en tapant les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf glib-2.X.X.tar.gz
cd glib-2.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_sdl_macos"></a>
Installation de SDL</h3>
<p>Téléchargez le paquet d'installation pour MacOSX de la bibliothèque sur le site <a href="http://www.libsdl.org/download-1.2.php">http://www.libsdl.org/download-1.2.php</a></p>
<p>Ce paquet a pour nom : SDL-1.2.X.dmg (Intel10.5+)</p>
<p>Puis, installez le paquet en tapant les commandes suivantes : </p><pre class="fragment">hdiutil attach SDL-1.2.X.dmg
sudo cp -r /Volumes/SDL/SDL.framework /Library/Frameworks/
hdiutil detach /Volumes/SDL
</pre><h3><a class="anchor" id="install_sdlimage_macos"></a>
Installation de SDL_image</h3>
<p>Téléchargez le paquet d'installation pour MacOSX de la bibliothèque sur le site <a href="http://www.libsdl.org/projects/SDL_image/release-1.2.html">http://www.libsdl.org/projects/SDL_image/release-1.2.html</a></p>
<p>Ce paquet a pour nom : SDL_image-1.2.X.dmg (Intel10.5+)</p>
<p>Puis, installez le paquet en tapant les commandes suivantes : </p><pre class="fragment">hdiutil attach SDL_image-1.2.X.dmg
sudo cp -r /Volumes/SDL_image/SDL_image.framework /Library/Frameworks/
hdiutil detach /Volumes/SDL_image
</pre><h3><a class="anchor" id="install_sdlmixer_macos"></a>
Installation de SDL_mixer</h3>
<p>Téléchargez le paquet d'installation pour MacOSX de la bibliothèque sur le site <a href="http://www.libsdl.org/projects/SDL_mixer/release-1.2.html">http://www.libsdl.org/projects/SDL_mixer/release-1.2.html</a></p>
<p>Ce paquet a pour nom : SDL_mixer-1.2.X.dmg (Intel10.5+)</p>
<p>Puis, installez le paquet en tapant les commandes suivantes : </p><pre class="fragment">hdiutil attach SDL_mixer-1.2.X.dmg
sudo cp -r /Volumes/SDL_mixer/SDL_mixer.framework /Library/Frameworks/
hdiutil detach /Volumes/SDL_mixer
</pre><h3><a class="anchor" id="install_sdlttf_macos"></a>
Installation de SDL_ttf</h3>
<p>Téléchargez le paquet d'installation pour MacOSX de la bibliothèque sur le site <a href="http://www.libsdl.org/projects/SDL_ttf/release-1.2.html">http://www.libsdl.org/projects/SDL_ttf/release-1.2.html</a></p>
<p>Ce paquet a pour nom : SDL_ttf-X.X.X.dmg (Intel10.5+)</p>
<p>Puis, installez le paquet en tapant les commandes suivantes : </p><pre class="fragment">hdiutil attach SDL_ttf-X.X.X.dmg
sudo cp -r /Volumes/SDL_ttf/SDL_ttf.framework /Library/Frameworks/
hdiutil detach /Volumes/SDL_ttf
</pre><h3><a class="anchor" id="install_sdlgfx_macos"></a>
Installation de SDL_gfx</h3>
<p>Téléchargez le code source de la bibliothèque sur le site : <a href="http://www.ferzkopp.net/joomla/content/view/19/14/">http://www.ferzkopp.net/joomla/content/view/19/14/</a> </p><pre class="fragment">cd  $FAKEROOT/src
tar -xzf SDL_gfx-X.X.tar.gz
</pre><p>ATTENTION ! Il faut prendre la version de SDL_gfx prévue pour la version 1.2 de SDL (il ne faut pas prendre SDL2_gfx qui est prévue pour SDL 2.0) !</p>
<p>Modifiez le configure.in en remplacant les lignes </p><pre class="fragment">dnl Check for SDL
AM_PATH_SDL($SDL_VERSION,
            :,
        AC_MSG_ERROR([*** SDL version $SDL_VERSION not found!])
)
CFLAGS="$CFLAGS $SDL_CFLAGS"
# Remove dependencies from 'sdl-config' not meant for us libraries:
SDL_LIBS=$(echo "$SDL_LIBS" |sed -e 's/-lmingw32//' -e 's/-lSDLmain//')
LIBS="$LIBS $SDL_LIBS"
</pre><p> par les lignes </p><pre class="fragment">SDL_CFLAGS="-I/Library/Frameworks/SDL.framework/Headers -framework SDL" 
SDL_LIBS="-framework SDL" 
CFLAGS="$CFLAGS $SDL_CFLAGS" 
LIBS="$LIBS $SDL_LIBS -framework SDL"
</pre><p>Reconfigurez la bibliothèque en exécutant la commande: </p><pre class="fragment">cd SDL_gfx-X.X
autoreconf --install
</pre><p>Finissez la compilation et l'installation de la bibliothèque en tapant les commandes suivantes: </p><pre class="fragment">./configure --prefix=$FAKEROOT --without-x
make
make install
</pre><h3><a class="anchor" id="install_cmake_macos"></a>
Installation de Cmake</h3>
<p>Téléchargez le code source de Cmake, contenu dans le fichier cmake-X.X.X.tar.gz situé sur le site : <a href="http://www.cmake.org/download/">http://www.cmake.org/download/</a></p>
<p>Installez le paquet en tapant les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf cmake-X.X.X.src.tar.gz
cd cmake-X.X.X
./configure --prefix=$FAKEROOT
make
make install
</pre><h3><a class="anchor" id="install_doxygen_macos"></a>
Installation de Doxygen</h3>
<p>Téléchargez le code source de Doxygen, contenu dans le fichier doxygen-X.X.X.src.tar.gz situé sur le site : <a href="http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc">http://www.stack.nl/~dimitri/doxygen/download.html#latestsrc</a></p>
<p>Installez le paquet en tapant les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf doxygen-X.X.X.src.tar.gz
cd doxygen-X.X.X
cmake -DCMAKE_INSTALL_PREFIX:PATH=$FAKEROOT -G "Unix Makefiles"
make
make install
</pre><h2><a class="anchor" id="installation_mlv"></a>
Installation de la bibliothèque MLV</h2>
<p>Commencez par télécharger le code source de la bibliothèque MLV. Téléchargez la bibliothèque située à l'adresse : <a href="http://download.savannah.gnu.org/releases/mlv/mlv-2.0.2/mlv-2.0.2.tar.gz">http://download.savannah.gnu.org/releases/mlv/mlv-2.0.2/mlv-2.0.2.tar.gz</a></p>
<p>Installez la bibliothèque en tapant les commandes suivantes: </p><pre class="fragment">cd $FAKEROOT/src
tar -xzf mlv-2.0.2.tar.gz
cd mlv-2.0.2
./configure --prefix=$FAKEROOT libxml_LIBS=-lxml2 libxml_CFLAGS=-I/usr/include/libxml2
make
make install
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Vendredi 11 Septembre 2015 09:24:31 pour MLV-2.0.2 par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
